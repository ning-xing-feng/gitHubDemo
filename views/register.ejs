<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css">
    <style>
        body{
            background:url("/images/bg.jpg");
            background-size: 100%;
        }
       .noticeUsernamep{
            font-size: 12px;
        }
        .success
        {
            background-color:#E6FEE4;
            border-color:#01BE00;
            background-repeat: no-repeat;
            background-position: left 2px;
            padding:0 18px;
        }
        .danger
        {
            background-color:#FFF2E5;
            border-color:#FF3300;
            background-repeat: no-repeat;
            background-position: left 2px;
            padding:0 18px;
        }
        .nav
        {
            width: 650px;
            margin: 50px auto;
        }
        .nav1
        {
            border: 1px solid #666666;
            border-radius: 5px;
        }
        label
        {
            width: 150px;
            height: 30px;
            line-height: 30px;
            text-align: right;
            font-size: 14px;
            display: inline-block;
        }
        span
        {  
            background-color:#FFFFDA ;
            border: 1px solid #FFCD00;
            font-size: 12px;
            height: 20px;
            line-height: 20px;
            display: inline-block;
            margin-left: 40px ;

        }
        form{
            width: 700px;
            margin-left: -120px;
            /* background: #ffffff; */
            padding: 50px 0 80px 0;
            box-shadow:1px 1px 5px #333;
        }
        button{
            width: 150px;
            margin-left: 100px;
        }
        p{
            margin-top: 20px;
        }
    </style>
    <title>Document</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-4">
                <h1 style="margin-bottom:20px; margin-top: 30px">xx-后台管理系统</h1>
                <form action="/users/register" method="POST">
                    <p>
                        <label>用户名：</label>
                        <input type="text" id="userName" name="username"><span style="margin-left:19px">请输入4-12位用户名（首位为字母）</span>
                    </p>
                    <p>
                        <label>登录密码：</label>
                        <input type="password" id="passWord" name="password"><span>密码为6-16位</span>
                    </p>
                    <p>
                        <label>重复登录密码：</label>
                        <input type="password" id="rePassWord" name="repassword"><span>请再次输入密码</span>
                    </p>
                    <p>
                        <label>昵称：</label>
                        <input type="text" id="NC" name="nickname"><span>请输入昵称</span>
                    </p>
                    <p>
                        <label>手机号:</label>
                        <input type="text" id="tel" name="phone"><span>请输入手机号</span>
                    </p>
                    <p>
                        <label>是否为管理员:</label>
                        <input type="radio" name="isAdmin" value="1">yes
                        <input type="radio" name="isAdmin" value="0">no
                    </p>
                        <button type="submit" class="btn btn-info">submit</button>
                        <a href="#">直接登录</a>
                </form>
            </div>
        </div>
    </div>
    <script src="/lib/jquery/jquery.min.js"></script>
    <script src="/lib/bootstrap/js/bootstrap.min.js"></script>
    <script>
            window.onload=function(e)
            {
                var form=document.querySelector('form');
                var userName=document.querySelector('#userName');
                var passWord=document.querySelector('#passWord');
                var rePassWord=document.querySelector('#rePassWord');
                var NC=document.querySelector('#NC');
                var tel=document.querySelector('#tel');
                var span=document.querySelectorAll('span');
        
                //onsubmit事件
                form.onsubmit=function(e)
                {
                    var username=checkUserName();
                    if(!username)
                    {
                        return false;
                    }
                    var password=checkPassWord();
                    if(!password)
                    {
                        return false;
                    }
                    var rePassWord=checkRePassWord();
                    if(!rePassWord)
                    {
                        return false;
                    }
                    var NC=checkNc();
                    if(!NC)
                    {
                        return false;
                    }
                    var tel=checkTel();
                    if(!tel)
                    {
                        return false;
                    }
                    return true;
                };
                //onblur失去焦点事件
                userName.onblur=function(e)
                {
                    checkUserName();
                };
                passWord.onblur=function(e)
                {
                    checkPassWord();
                };
                rePassWord.onblur=function(e)
                {
                    checkRePassWord();
                };
                NC.onblur=function(e)
                {
                    checkNC();
                };
                tel.onblur=function(e)
                {
                    checkTel();
                };
               //用户名
                function checkUserName(e)
                {
                    if(userName.value.length==0)
                    {
                        span[0].innerText='用户名不能为空';
                        span[0].className='danger';
                        return false;
                    }
                    var pattern=/^[A-Za-z][A-Za-z0-9]{3,11}$/;
                    if(!pattern.test(userName.value))
                    {
                        span[0].innerText='用户名格式错误，请重新输入';
                        span[0].className='danger';
                        return false;
                    }
                    span[0].innerText='用户名输入正确';
                    span[0].className='success';
                    return true;
                }
                //登录密码
                function checkPassWord(e)
                {
                    if(passWord.value.length==0)
                    {
                        span[1].innerText='密码不能为空';
                        span[1].className='danger';
                        return false;
                    }
                    var pattern=/^[A-Za-z0-9]{6,16}$/;
                    if(!pattern.test(passWord.value))
                    {
                        span[1].innerText='密码不符合格式，请重新输入';
                        span[1].className='danger';
                        return false;
                    }
                    span[1].innerText='密码输入正确';
                    span[1].className='success';
                    return true;
                }
                //重复登录密码
                function checkRePassWord(e)
                {
                    if(rePassWord.value.length==0)
                    {
                        span[2].innerText='重复密码不能为空';
                        span[2].className='danger';
                        return false;
                    }
                    if(rePassWord.value!=passWord.value)
                    {
                        span[2].innerText='两次输入的密码不一致，请重新输入';
                        span[2].className='danger';
                        return false;
                    }
                    span[2].innerText='两次密码一致';
                    span[2].className='success';
                    return true;
                }
                //昵称（6-20位所有字符）
                function checkNC(e)
                {
                    if(NC.value.length==0)
                    {
                        span[3].innerText='昵称不能为空';
                        span[3].className='danger';
                        return false;
                    }
                    var pattern=/^.{3,20}$/;
                    if(!pattern.test(NC.value))
                    {
                        span[3].innerText='昵称格式错误，请重新输入';
                        span[3].className='danger';
                        return false;
                    }
                    span[3].innerText='昵称输入正确';
                    span[3].className='success';
                    return true;
                }
                //手机号（）
                function checkTel(e)
                {
                    if(tel.value.length==0)
                    {
                        span[4].innerText='手机号不能为空';
                        span[4].className='danger';
                        return false;
                    }
                    var pattern=/^[1][3,4,5,7,8][0-9]{9}$/;
                    if(!pattern.test(tel.value))
                    {
                        span[4].innerText='手机号码格式错误，请重新输入';
                        span[4].className='danger';
                        return false;
                    }
                    span[4].innerText='手机号输入正确';
                    span[4].className='success';
                    return true;
                }
            }
        </script>
</body>
</html>